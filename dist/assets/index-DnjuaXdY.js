import{f as P,r as g,z as c,c as z,g as l,m as s,w as r,A as h,l as u,a as E,b as w,u as R,E as _}from"./index-Bd1OJD0A.js";/* empty css             */const U={class:"auth-container"},q={class:"auth-card"},C={class:"auth-footer"},K={__name:"index",setup(B){const m=R(),b=P(),i=g(null),d=g(!1),o=c({account:"",phone:"",password:"",confirmPassword:""}),V=c({account:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入有效的邮箱地址",trigger:["blur","change"]}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入有效的手机号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}],confirmPassword:[{required:!0,validator:(p,e,a)=>{e===""?a(new Error("请再次输入密码")):e!==o.password?a(new Error("两次输入的密码不一致")):a()},trigger:"blur"}]}),f=async()=>{i.value&&await i.value.validate(async p=>{if(p){d.value=!0;try{await b.register(o),_.success("注册成功！即将跳转到登录页"),setTimeout(()=>{m.push("/login")},1500)}catch(e){_.error(e.message||"注册失败，请重试")}finally{d.value=!1}}})},v=()=>{m.push("/login")};return(p,e)=>{const a=u("el-input"),n=u("el-form-item"),y=u("el-button"),x=u("el-form"),k=u("el-link");return E(),z("div",U,[l("div",q,[e[11]||(e[11]=l("h1",{class:"auth-title"},"创建新账户",-1)),e[12]||(e[12]=l("p",{class:"auth-subtitle"},"加入我们，开启智能药物分析之旅",-1)),s(x,{ref_key:"registerFormRef",ref:i,model:o,rules:V,class:"auth-form",onKeyup:h(f,["enter"])},{default:r(()=>[s(n,{prop:"account"},{default:r(()=>[s(a,{modelValue:o.account,"onUpdate:modelValue":e[0]||(e[0]=t=>o.account=t),placeholder:"请输入您的邮箱作为账号",size:"large",clearable:""},{prefix:r(()=>e[4]||(e[4]=[l("i",{class:"fas fa-envelope"},null,-1)])),_:1},8,["modelValue"])]),_:1}),s(n,{prop:"phone"},{default:r(()=>[s(a,{modelValue:o.phone,"onUpdate:modelValue":e[1]||(e[1]=t=>o.phone=t),placeholder:"请输入手机号",size:"large",clearable:""},{prefix:r(()=>e[5]||(e[5]=[l("i",{class:"fas fa-mobile-alt"},null,-1)])),_:1},8,["modelValue"])]),_:1}),s(n,{prop:"password"},{default:r(()=>[s(a,{modelValue:o.password,"onUpdate:modelValue":e[2]||(e[2]=t=>o.password=t),type:"password",placeholder:"请设置密码",size:"large","show-password":"",clearable:""},{prefix:r(()=>e[6]||(e[6]=[l("i",{class:"fas fa-lock"},null,-1)])),_:1},8,["modelValue"])]),_:1}),s(n,{prop:"confirmPassword"},{default:r(()=>[s(a,{modelValue:o.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=t=>o.confirmPassword=t),type:"password",placeholder:"请再次输入密码",size:"large","show-password":"",clearable:""},{prefix:r(()=>e[7]||(e[7]=[l("i",{class:"fas fa-check-circle"},null,-1)])),_:1},8,["modelValue"])]),_:1}),s(n,null,{default:r(()=>[s(y,{type:"primary",class:"auth-button",size:"large",onClick:f,loading:d.value},{default:r(()=>e[8]||(e[8]=[w(" 注 册 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"]),l("div",C,[e[10]||(e[10]=l("span",null,"已有账户？",-1)),s(k,{type:"primary",onClick:v},{default:r(()=>e[9]||(e[9]=[w("返回登录")])),_:1})])])])}}};export{K as default};
