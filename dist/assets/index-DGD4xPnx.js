import{f as R,r as f,A as g,c as h,b as l,p as s,w as o,B,m as a,a as C,q as _,u as q,E as w}from"./index-DrDHNACk.js";/* empty css             */const z={class:"auth-container"},E={class:"auth-card"},F={class:"auth-footer"},S={__name:"index",setup(N){const d=q(),y=R(),r=f(null),n=f(!1),t=g({account:"",password:""}),v=g({account:[{required:!0,message:"请输入您的账号",trigger:"blur"}],password:[{required:!0,message:"请输入您的密码",trigger:"blur"}]}),p=async()=>{r.value&&await r.value.validate(async c=>{if(c){n.value=!0;try{await y.login(t.account,t.password)&&(w.success("登录成功"),d.push("/home"))}catch(e){w.error(e.message||"登录失败，请重试")}finally{n.value=!1}}})},b=()=>{d.push("/register")};return(c,e)=>{const m=a("el-input"),u=a("el-form-item"),V=a("el-button"),k=a("el-form"),x=a("el-link");return C(),h("div",z,[l("div",E,[e[7]||(e[7]=l("h1",{class:"auth-title"},"欢迎回来",-1)),e[8]||(e[8]=l("p",{class:"auth-subtitle"},"登录您的药物预测分析平台账户",-1)),s(k,{ref_key:"loginFormRef",ref:r,model:t,rules:v,class:"auth-form",onKeyup:B(p,["enter"])},{default:o(()=>[s(u,{prop:"account"},{default:o(()=>[s(m,{modelValue:t.account,"onUpdate:modelValue":e[0]||(e[0]=i=>t.account=i),placeholder:"请输入账号或邮箱",size:"large",clearable:""},{prefix:o(()=>e[2]||(e[2]=[l("i",{class:"fas fa-user"},null,-1)])),_:1},8,["modelValue"])]),_:1}),s(u,{prop:"password"},{default:o(()=>[s(m,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=i=>t.password=i),type:"password",placeholder:"请输入密码",size:"large","show-password":"",clearable:""},{prefix:o(()=>e[3]||(e[3]=[l("i",{class:"fas fa-lock"},null,-1)])),_:1},8,["modelValue"])]),_:1}),s(u,null,{default:o(()=>[s(V,{type:"primary",class:"auth-button",size:"large",onClick:p,loading:n.value},{default:o(()=>e[4]||(e[4]=[_(" 登 录 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"]),l("div",F,[e[6]||(e[6]=l("span",null,"还没有账户？",-1)),s(x,{type:"primary",onClick:b},{default:o(()=>e[5]||(e[5]=[_("立即注册")])),_:1})])])])}}};export{S as default};
